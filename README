IMPORTANT INFORMATION

This tool uses a development version of the DeryaSE Engine. You are strongly adviced NOT to use it for other porpuses other than running this tool, as it has not been tested for wider use.
For the same reason, you should use this tool under Linux, as it will not compile properly on other operating systems.


REQUIREMENTS:

- A complete gnu C++ compiler
- The MPI library installed
- TIFFLib installed
- A python interpreter
- For data analysis, the R interpreter


INSTALLING

The installer will download required data from the WorldPop database.
Data for one country could range within 5-10Gb.
Downloading might take a long time depending on your connection.
You can repeat the install operation for different countries.

- Edit the install.sh file and modify the following parameters:
  CORES: the number of cores used by each simulation.
  GRIDRES: the resolution in km.
  COUNTRY: the name of the country of interest.
  OUTDIR: name of the directory where to store results:
          this will be a sub directory of the Output directory.

- Run the installer with
  bash install.sh



SET UP

Once installed, move to the 'Master' directory:

cd Master

Edit the 'Makefile' to alter the following variables:
CORES : the number of cores each run will use.
COUNTRY: the country you want to work with
OUTDIR: the directory where executable and data should be stored.
        This will be a sub-directory of 'Output'.

Edit the 'config.py' file and alter the parameters of the country you intend
        to work with.  The 'Default' country can be used as a blueprint.
		You only need to specify values that differ from the 'Default' values.

Now use the make command as follows:

make prepare  # This will remove any pre-existing data in the target output directory.
              # Use with caution.

make  # This will generate three executables that can be used to run specific conditions
      # or to fit to specific data



EXECUTING

Move to the chosen output directory

cd ../Output/XYZ

where XYZ represents the name of the output directory chosen during the SET UP phase.
To run a set of 100 simulations with the parameter fixed in the SET UP phase type

python3 multirun.py

To fit to a set of data, type

python3 fitting.py




NOTE

The above pipeline works with the data sets included.  To alter and explore the 
package, please have a look to the documentation [TO BE INCLUDED].




FORECASTING

To build forecasting runs, just type

make

This will take several minutes to complete, so relax and take a cup of tea or coffee. 
It will build two versions: the first is a version that only generates the mobility
data needed to move individuals around.  The second will perform the actual calculations.

If you prefer to build the two version separately, type:

make write
make read

To run a set of 100 sims just type
python3 multirun.py

The python script may be modified to increase the number of runs at will.

If on a cluster, you can adapt the submission 'script.sh' to your needs.





FITTING

xxxx



